<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of gui</title>
  <meta name="keywords" content="gui">
  <meta name="description" content="gui_test_runner/gui execute the graphical user interface of mlUnit.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html &copy; 2003 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../index.html">mlUnit</a> &gt;  <a href="../index.html">src</a> &gt; <a href="index.html">@gui_test_runner</a> &gt; gui.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../index.html"><img alt="<" border="0" src="../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for src\@gui_test_runner&nbsp;<img alt=">" border="0" src="../../right.png"></a></td></tr></table>-->

<h1>gui
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>gui_test_runner/gui execute the graphical user interface of mlUnit.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="box"><strong>function varargout = gui(object, varargin) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre class="comment">gui_test_runner/gui execute the graphical user interface of mlUnit.
  The graphical user interface is realized with guide and therefore
  a file gui.fig exists containing the figure and all the handles.

  Example
  =======
  Start the gui_test_runner:
         gui(gui_test_runner);

  See also GUI_TEST_RESULT, <a href="gui_test_runner.html" class="code" title="function self = gui_test_runner(callback)">GUI_TEST_RUNNER</a>.</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="../../src/@function_test_case/str.html" class="code" title="function s = str(self)">str</a>	function_test_case/str return a string with the method and class name of the test.</li><li><a href="../../src/@gui_test_result/gui_test_result.html" class="code" title="function self = gui_test_result(progress_bar, text_runs, error_listbox, max_number_of_tests)">gui_test_result</a>	gui_test_result contructor.</li><li><a href="../../src/@gui_test_result/update.html" class="code" title="function self = update(self)">update</a>	gui_test_result/update update the different gui object: the progress bar, the text area with the number of test ran etc., and the listbox with all errors and failures.</li><li><a href="get_line_expression.html" class="code" title="function expression = get_line_expression(self) %#ok">get_line_expression</a>	gui_test_runner/get_line_expression returns the regular expression a line of the stack trace of the error message.</li><li><a href="get_object.html" class="code" title="function self = get_object(self) %#ok">get_object</a>	gui_test_runner/get_object returns the singleton object of the gui window.</li><li><a href="gui.html" class="code" title="function varargout = gui(object, varargin)">gui</a>	gui_test_runner/gui execute the graphical user interface of mlUnit.</li><li><a href="gui_test_runner.html" class="code" title="function self = gui_test_runner(callback)">gui_test_runner</a>	gui_test_runner contructor.</li><li><a href="run.html" class="code" title="function self = run(self, test, dock, shorten)">run</a>	gui_test_runner/run is an alternative method to execute the graphical user interface of mlUnit.</li><li><a href="shorten_error_text.html" class="code" title="function shortened_text = shorten_error_text(self, error_text)">shorten_error_text</a>	gui_test_runner/set_shorten shortens the directory paths of an error message. This is helpful for a small width of the gui window.</li><li><a href="str.html" class="code" title="function s = str(self)">str</a>	gui_test_runner/str return a string with the class name.</li><li><a href="../../src/@mlunit/run.html" class="code" title="function self = run(self, dock)">run</a>	mlunit/run executes the the graphical user interface of mlUnit.</li><li><a href="../../src/@test_case/count_test_cases.html" class="code" title="function count = count_test_cases(self) %#ok">count_test_cases</a>	test_case/count_test_cases returns the number of test cases executed by run.</li><li><a href="../../src/@test_case/run.html" class="code" title="function [self, result] = run(self, result)">run</a>	test_case/run executes the test case and saves the results in result.</li><li><a href="../../src/@test_case/str.html" class="code" title="function s = str(self)">str</a>	test_case/str returns a string with the method and class name of the test.</li><li><a href="../../src/@test_case/test_case.html" class="code" title="function self = test_case(name, subclass)">test_case</a>	test_case constructor.</li><li><a href="../../src/@test_loader/load_tests_from_test_case.html" class="code" title="function suite = load_tests_from_test_case(self, test_case_class)">load_tests_from_test_case</a>	test_loader/load_tests_from_test_case returns a test_suite with all test* methods from a test_case.</li><li><a href="../../src/@test_loader/test_loader.html" class="code" title="function self = test_loader">test_loader</a>	test_loader constructor.</li><li><a href="../../src/@test_result/add_error_with_stack.html" class="code" title="function self = add_error_with_stack(self, test, err)">add_error_with_stack</a>	test_result/add_error_with_stack adds an error for the test to the list of errors using the struct members of lasterror (file and stack) to generate a more detailed error report.</li><li><a href="../../src/@test_suite/count_test_cases.html" class="code" title="function count = count_test_cases(self)">count_test_cases</a>	test_suite/count_test_cases returns the number of test cases executed by run.</li><li><a href="../../src/@test_suite/run.html" class="code" title="function [self, result] = run(self, result)">run</a>	test_suite/run executes the test suite and saves the results in result.</li><li><a href="../../src/@test_suite/str.html" class="code" title="function s = str(self)">str</a>	test_suite/str returns a string with the name of the test suite.</li><li><a href="../../src/@text_test_runner/run.html" class="code" title="function result = run(self, test)">run</a>	text_test_runner/run execute the test and writes the results to a stream in textual form (using TextTestResult).</li></ul>
This function is called by:
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="gui.html" class="code" title="function varargout = gui(object, varargin)">gui</a>	gui_test_runner/gui execute the graphical user interface of mlUnit.</li><li><a href="run.html" class="code" title="function self = run(self, test, dock, shorten)">run</a>	gui_test_runner/run is an alternative method to execute the graphical user interface of mlUnit.</li></ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<ul style="list-style-image:url(../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function gui_openingfcn(hobject, eventdata, handles, varargin)</a></li><li><a href="#_sub2" class="code">function varargout = gui_outputfcn(hobject, eventdata, handles)</a></li><li><a href="#_sub3" class="code">function gui_resize_callback(hobject, eventdata, handles)</a></li><li><a href="#_sub4" class="code">function gui_test_case_callback(hobject, eventdata, handles)</a></li><li><a href="#_sub5" class="code">function gui_test_case_createfcn(hobject, eventdata, handles)</a></li><li><a href="#_sub6" class="code">function gui_run_callback(hobject, eventdata, handles)</a></li><li><a href="#_sub7" class="code">function gui_error_list_callback(hobject, eventdata, handles)</a></li><li><a href="#_sub8" class="code">function gui_error_list_createfcn(hobject, eventdata, handles)</a></li><li><a href="#_sub9" class="code">function gui_error_createfcn(hobject, eventdata, handles)</a></li><li><a href="#_sub10" class="code">function gui_dock_callback(hObject, eventdata, handles)</a></li><li><a href="#_sub11" class="code">function gui_shorten_callback(hObject, eventdata, handles)</a></li><li><a href="#_sub12" class="code">function gui_show_Callback(hObject, eventdata, handles)</a></li></ul>
<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function varargout = gui(object, varargin)</a>
0002 <span class="comment">%gui_test_runner/gui execute the graphical user interface of mlUnit.</span>
0003 <span class="comment">%  The graphical user interface is realized with guide and therefore</span>
0004 <span class="comment">%  a file gui.fig exists containing the figure and all the handles.</span>
0005 <span class="comment">%</span>
0006 <span class="comment">%  Example</span>
0007 <span class="comment">%  =======</span>
0008 <span class="comment">%  Start the gui_test_runner:</span>
0009 <span class="comment">%         gui(gui_test_runner);</span>
0010 <span class="comment">%</span>
0011 <span class="comment">%  See also GUI_TEST_RESULT, GUI_TEST_RUNNER.</span>
0012 
0013 <span class="comment">%  This Software and all associated files are released unter the</span>
0014 <span class="comment">%  GNU General Public License (GPL), see LICENSE for details.</span>
0015 <span class="comment">%</span>
0016 <span class="comment">%  §Author: Thomas Dohmke &lt;thomas@dohmke.de&gt; §</span>
0017 <span class="comment">%  $Id: gui.m 267 2007-03-10 12:38:34Z thomi $</span>
0018 
0019 <span class="keyword">global</span> self;
0020 
0021 <span class="keyword">if</span> ((object.callback ~= 1) &amp;&amp; (isempty(self) || (isempty(<a href="get_object.html" class="code" title="function self = get_object(self) %#ok">get_object</a>(self)))))
0022     self = object;
0023 <span class="keyword">elseif</span> ((object.callback == 1) &amp;&amp; (isempty(self)))
0024     handles = guidata(gcbo);
0025     <span class="keyword">try</span>
0026         self = get(handles.gui_window, <span class="string">'UserData'</span>);
0027     <span class="keyword">catch</span>
0028     <span class="keyword">end</span>;
0029 <span class="keyword">end</span>;
0030 
0031 gui_singleton = 1;
0032 gui_state = struct(<span class="string">'gui_Name'</span>, mfilename, <span class="keyword">...</span>
0033                    <span class="string">'gui_Singleton'</span>, gui_singleton, <span class="keyword">...</span>
0034                    <span class="string">'gui_OpeningFcn'</span>, @<a href="#_sub1" class="code" title="subfunction gui_openingfcn(hobject, eventdata, handles, varargin) ">gui_openingfcn</a>, <span class="keyword">...</span>
0035                    <span class="string">'gui_OutputFcn'</span>, @<a href="#_sub2" class="code" title="subfunction varargout = gui_outputfcn(hobject, eventdata, handles) ">gui_outputfcn</a>, <span class="keyword">...</span>
0036                    <span class="string">'gui_LayoutFcn'</span>, [] , <span class="keyword">...</span>
0037                    <span class="string">'gui_Callback'</span>, []);
0038 <span class="keyword">if</span> ((nargin &gt; 1) &amp;&amp; (ischar(varargin{1})))
0039     gui_state.gui_Callback = str2func(varargin{1});
0040 <span class="keyword">end</span>
0041 
0042 <span class="keyword">if</span> nargout
0043     [varargout{1:nargout}] = gui_mainfcn(gui_state, varargin{:});
0044 <span class="keyword">else</span>
0045     gui_mainfcn(gui_state, varargin{:});
0046 <span class="keyword">end</span>
0047 
0048 <a name="_sub1" href="#_subfunctions" class="code">function gui_openingfcn(hobject, eventdata, handles, varargin) </a><span class="comment">%#ok</span>
0049 
0050 <span class="keyword">global</span> self;
0051 
0052 handles.output = hobject;
0053 guidata(hobject, handles);
0054 
0055 self.handle = handles.gui_window;
0056 self.handles = handles;
0057 
0058 set(handles.gui_progress_bar, <span class="string">'XTick'</span>, [], <span class="string">'XTickLabel'</span>, []);
0059 set(handles.gui_progress_bar, <span class="string">'YTick'</span>, [], <span class="string">'YTickLabel'</span>, []);
0060 
0061 menu = uicontextmenu;
0062 set(self.handle, <span class="string">'UIContextMenu'</span>, menu);
0063 self.handles.menu_dock = uimenu(menu, <span class="string">'Label'</span>, <span class="string">'Dock Window'</span>, <span class="string">'Callback'</span>, <span class="keyword">...</span>
0064     @(hobject, eventdata)<a href="gui.html" class="code" title="function varargout = gui(object, varargin)">gui</a>(<a href="gui_test_runner.html" class="code" title="function self = gui_test_runner(callback)">gui_test_runner</a>(1), <span class="string">'gui_dock_callback'</span>, hobject, [], handles));
0065 self.handles.menu_shorten = uimenu(menu, <span class="string">'Label'</span>, <span class="string">'Short Directory Names'</span>, <span class="string">'Callback'</span>, <span class="keyword">...</span>
0066     @(hobject, eventdata)<a href="gui.html" class="code" title="function varargout = gui(object, varargin)">gui</a>(<a href="gui_test_runner.html" class="code" title="function self = gui_test_runner(callback)">gui_test_runner</a>(1), <span class="string">'gui_shorten_callback'</span>, hobject, [], handles)); 
0067 
0068 <span class="keyword">if</span> (~isempty(self.dock) &amp;&amp; isnumeric(self.dock) &amp;&amp; self.dock)
0069     set(handles.gui_window, <span class="string">'WindowStyle'</span>, <span class="string">'Docked'</span>);
0070     set(self.handles.menu_dock, <span class="string">'Label'</span>, <span class="string">'Undock Window'</span>);
0071 <span class="keyword">end</span>;
0072 
0073 <span class="keyword">if</span> (~ischar(self.test_case))
0074     <span class="keyword">try</span>
0075         test_str = <a href="str.html" class="code" title="function s = str(self)">str</a>(self.test_case);
0076     <span class="keyword">catch</span>
0077         test_str = <span class="string">''</span>;
0078     <span class="keyword">end</span>;
0079 <span class="keyword">else</span>
0080     test_str = self.test_case;
0081 <span class="keyword">end</span>;
0082 <span class="keyword">if</span> (ischar(test_str) &amp;&amp; (length(test_str) &gt; 0))
0083     set(handles.gui_test_case, <span class="string">'String'</span>, test_str);
0084     <a href="#_sub6" class="code" title="subfunction gui_run_callback(hobject, eventdata, handles) ">gui_run_callback</a>(hobject, eventdata, handles);
0085     self.test_case = <span class="string">''</span>;
0086 <span class="keyword">end</span>;
0087 
0088 set(self.handle, <span class="string">'UserData'</span>, self);
0089 
0090 <a name="_sub2" href="#_subfunctions" class="code">function varargout = gui_outputfcn(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0091 
0092 varargout{1} = handles.output;
0093 
0094 <a name="_sub3" href="#_subfunctions" class="code">function gui_resize_callback(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0095 
0096 position = get(hobject, <span class="string">'Position'</span>);
0097 <span class="keyword">if</span> (position(4) &lt; 20)
0098     position(4) = 20;
0099 <span class="keyword">end</span>;
0100 <span class="keyword">if</span> (position(3) &lt; 50)
0101     position(3) = 50;
0102 <span class="keyword">end</span>;
0103 
0104 space = position(4) - 30.0;
0105 set(handles.gui_text_name, <span class="string">'Position'</span>, [2.5 position(4) - 2.5 20.0 1]);
0106 set(handles.gui_test_case, <span class="string">'Position'</span>, [2.5 position(4) - 4.5 position(3) - 15 1.6]);
0107 set(handles.gui_run, <span class="string">'Position'</span>, [position(3) - 12.5 position(4) - 4.5 10.0 1.6]);
0108 set(handles.gui_show, <span class="string">'Position'</span>, [position(3) - 12.5 position(4) - 28.8 - space 10.0 1.6]);
0109 set(handles.gui_progress_bar, <span class="string">'Position'</span>, [2.5 position(4) - 7.5 position(3) - 5.0 1.6]);
0110 set(handles.gui_text_runs, <span class="string">'Position'</span>, [2.5 position(4) - 9.5 40.0 1]);
0111 set(handles.gui_text_error_list, <span class="string">'Position'</span>, [2.5 position(4) - 12 20.0 1]);
0112 set(handles.gui_error_list, <span class="string">'Position'</span>, [2.5 position(4) - 19.5 - space / 2 position(3) - 5.0 7 + space / 2]);
0113 set(handles.gui_error, <span class="string">'Position'</span>, [2.5 position(4) - 27 - space position(3) - 5.0 7 + space / 2]);
0114 set(handles.gui_text_time, <span class="string">'Position'</span>, [2.5 1.0 48.0 1]);
0115 
0116 <a name="_sub4" href="#_subfunctions" class="code">function gui_test_case_callback(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0117 
0118 <span class="keyword">if</span> (double(get(handles.gui_window, <span class="string">'CurrentCharacter'</span>)) == 13)
0119     <a href="#_sub6" class="code" title="subfunction gui_run_callback(hobject, eventdata, handles) ">gui_run_callback</a>(hobject, eventdata, handles);
0120 <span class="keyword">end</span>;
0121 
0122 <a name="_sub5" href="#_subfunctions" class="code">function gui_test_case_createfcn(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0123 
0124 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hobject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0125     set(hobject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0126 <span class="keyword">end</span>
0127 
0128 <a name="_sub6" href="#_subfunctions" class="code">function gui_run_callback(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0129 
0130 <span class="keyword">global</span> self;
0131 
0132 t = clock;
0133 set(handles.gui_show, <span class="string">'Enable'</span>, <span class="string">'off'</span>);
0134 set(handles.gui_error, <span class="string">'String'</span>, <span class="string">''</span>);
0135 set(handles.gui_error, <span class="string">'String'</span>, <span class="string">''</span>);
0136 set(handles.gui_text_time, <span class="string">'String'</span>, <span class="string">''</span>);
0137 <a href="../../src/@test_case/test_case.html" class="code" title="function self = test_case(name, subclass)">test_case</a> = get(handles.gui_test_case, <span class="string">'String'</span>);
0138 
0139 <span class="keyword">if</span> (isempty(<a href="../../src/@test_case/test_case.html" class="code" title="function self = test_case(name, subclass)">test_case</a>))
0140     result = <a href="../../src/@gui_test_result/gui_test_result.html" class="code" title="function self = gui_test_result(progress_bar, text_runs, error_listbox, max_number_of_tests)">gui_test_result</a>(handles.gui_progress_bar, <span class="keyword">...</span>
0141         handles.gui_text_runs, <span class="keyword">...</span>
0142         handles.gui_error_list, <span class="keyword">...</span>
0143         1);
0144     <a href="../../src/@gui_test_result/update.html" class="code" title="function self = update(self)">update</a>(result);
0145     <span class="keyword">return</span>;
0146 <span class="keyword">end</span>;
0147 
0148 instance = 0;
0149 error1 = [];
0150 error2 = [];
0151 <span class="keyword">try</span>
0152     instance = eval([<a href="../../src/@test_case/test_case.html" class="code" title="function self = test_case(name, subclass)">test_case</a>, <span class="string">';'</span>]);
0153 <span class="keyword">catch</span>
0154     error1 = lasterror;
0155     <span class="keyword">try</span>
0156         loader = <a href="../../src/@test_loader/test_loader.html" class="code" title="function self = test_loader">test_loader</a>;
0157         instance = <a href="../../src/@test_loader/load_tests_from_test_case.html" class="code" title="function suite = load_tests_from_test_case(self, test_case_class)">load_tests_from_test_case</a>(loader, <a href="../../src/@test_case/test_case.html" class="code" title="function self = test_case(name, subclass)">test_case</a>);
0158     <span class="keyword">catch</span>
0159         error2 = lasterror;
0160     <span class="keyword">end</span>;
0161 <span class="keyword">end</span>;
0162 <span class="keyword">if</span> ((strcmp(class(instance), <span class="string">'double'</span>) &amp;&amp; (isempty(instance))) || <span class="keyword">...</span>
0163         (~isempty(error2)))
0164     result = <a href="../../src/@gui_test_result/gui_test_result.html" class="code" title="function self = gui_test_result(progress_bar, text_runs, error_listbox, max_number_of_tests)">gui_test_result</a>(handles.gui_progress_bar, <span class="keyword">...</span>
0165         handles.gui_text_runs, <span class="keyword">...</span>
0166         handles.gui_error_list, <span class="keyword">...</span>
0167         1);
0168     <span class="keyword">if</span> (~isempty(error1))
0169         result = <a href="../../src/@test_result/add_error_with_stack.html" class="code" title="function self = add_error_with_stack(self, test, err)">add_error_with_stack</a>(result, self, error1);
0170     <span class="keyword">end</span>;
0171     <span class="keyword">if</span> (~isempty(error2))
0172         result = <a href="../../src/@test_result/add_error_with_stack.html" class="code" title="function self = add_error_with_stack(self, test, err)">add_error_with_stack</a>(result, self, error2); <span class="comment">%#ok</span>
0173     <span class="keyword">end</span>;
0174 <span class="keyword">else</span>
0175     result = <a href="../../src/@gui_test_result/gui_test_result.html" class="code" title="function self = gui_test_result(progress_bar, text_runs, error_listbox, max_number_of_tests)">gui_test_result</a>(handles.gui_progress_bar, <span class="keyword">...</span>
0176         handles.gui_text_runs, <span class="keyword">...</span>
0177         handles.gui_error_list, <span class="keyword">...</span>
0178         <a href="../../src/@test_case/count_test_cases.html" class="code" title="function count = count_test_cases(self) %#ok">count_test_cases</a>(instance));
0179     [test, result] = <a href="run.html" class="code" title="function self = run(self, test, dock, shorten)">run</a>(instance, result); <span class="comment">%#ok</span>
0180 <span class="keyword">end</span>;
0181 time = etime(clock, t);
0182 set(handles.gui_text_time, <span class="string">'String'</span>, sprintf(<span class="string">'Finished: %.3fs.\n'</span>, time));
0183 <a href="#_sub7" class="code" title="subfunction gui_error_list_callback(hobject, eventdata, handles) ">gui_error_list_callback</a>(handles.gui_error_list, eventdata, handles);
0184 
0185 <a name="_sub7" href="#_subfunctions" class="code">function gui_error_list_callback(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0186 
0187 <span class="keyword">global</span> self;
0188 
0189 data = get(handles.gui_error_list, <span class="string">'UserData'</span>);
0190 selected = get(handles.gui_error_list, <span class="string">'Value'</span>);
0191 
0192 <span class="keyword">if</span> (length(data) &gt; 0)
0193     set(handles.gui_error, <span class="string">'String'</span>, <a href="shorten_error_text.html" class="code" title="function shortened_text = shorten_error_text(self, error_text)">shorten_error_text</a>(self, data{selected}));
0194     [tokens] = regexp(data{selected}, <a href="get_line_expression.html" class="code" title="function expression = get_line_expression(self) %#ok">get_line_expression</a>(self), <span class="string">'tokens'</span>, <span class="string">'once'</span>); <span class="comment">%, 'dotexceptnewline');</span>
0195     <span class="keyword">if</span> (length(tokens) == 2)
0196         set(handles.gui_show, <span class="string">'Enable'</span>, <span class="string">'on'</span>);
0197         set(handles.gui_show, <span class="string">'UserData'</span>, tokens);
0198     <span class="keyword">else</span>
0199         set(handles.gui_show, <span class="string">'Enable'</span>, <span class="string">'off'</span>);
0200     <span class="keyword">end</span>;
0201 <span class="keyword">end</span>;
0202 
0203 <a name="_sub8" href="#_subfunctions" class="code">function gui_error_list_createfcn(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0204 
0205 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hobject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0206     set(hobject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0207 <span class="keyword">end</span>
0208 
0209 <a name="_sub9" href="#_subfunctions" class="code">function gui_error_createfcn(hobject, eventdata, handles) </a><span class="comment">%#ok</span>
0210 
0211 <span class="keyword">if</span> ispc &amp;&amp; isequal(get(hobject,<span class="string">'BackgroundColor'</span>), get(0,<span class="string">'defaultUicontrolBackgroundColor'</span>))
0212     set(hobject,<span class="string">'BackgroundColor'</span>,<span class="string">'white'</span>);
0213 <span class="keyword">end</span>
0214 
0215 <a name="_sub10" href="#_subfunctions" class="code">function gui_dock_callback(hObject, eventdata, handles) </a><span class="comment">%#ok</span>
0216 
0217 <span class="keyword">global</span> self;
0218 
0219 docked = get(handles.gui_window, <span class="string">'WindowStyle'</span>);
0220 <span class="keyword">if</span> (strcmp(docked, <span class="string">'docked'</span>))
0221     set(handles.gui_window, <span class="string">'WindowStyle'</span>, <span class="string">'Normal'</span>);
0222     set(self.handles.menu_dock, <span class="string">'Label'</span>, <span class="string">'Dock Window'</span>);
0223     self.dock = 0;
0224 <span class="keyword">else</span>
0225     set(handles.gui_window, <span class="string">'WindowStyle'</span>, <span class="string">'Docked'</span>);
0226     set(self.handles.menu_dock, <span class="string">'Label'</span>, <span class="string">'Undock Window'</span>);
0227     self.dock = 1;
0228 <span class="keyword">end</span>;
0229 set(handles.gui_window, <span class="string">'UserData'</span>, self);
0230 
0231 <a name="_sub11" href="#_subfunctions" class="code">function gui_shorten_callback(hObject, eventdata, handles) </a><span class="comment">%#ok</span>
0232 
0233 <span class="keyword">global</span> self;
0234 
0235 <span class="keyword">if</span> (self.shorten == 0)
0236     self.shorten = 1;
0237     set(self.handles.menu_shorten, <span class="string">'Label'</span>, <span class="string">'Long Directory Names'</span>);
0238 <span class="keyword">else</span>
0239     self.shorten = 0;
0240     set(self.handles.menu_shorten, <span class="string">'Label'</span>, <span class="string">'Short Directory Names'</span>);
0241 <span class="keyword">end</span>;
0242 set(handles.gui_window, <span class="string">'UserData'</span>, self);
0243 
0244 <a href="#_sub7" class="code" title="subfunction gui_error_list_callback(hobject, eventdata, handles) ">gui_error_list_callback</a>(hObject, eventdata, self.handles);
0245 
0246 <a name="_sub12" href="#_subfunctions" class="code">function gui_show_Callback(hObject, eventdata, handles) </a><span class="comment">%#ok</span>
0247 
0248 tokens = get(hObject, <span class="string">'UserData'</span>);
0249 <span class="keyword">if</span> ((length(tokens) == 3) &amp;&amp; (etime(clock, tokens{3}) &lt; 1))
0250     data = get(handles.gui_error_list, <span class="string">'UserData'</span>);
0251     selected = get(handles.gui_error_list, <span class="string">'Value'</span>);
0252     [tokens] = regexp(data{selected}, <a href="get_line_expression.html" class="code" title="function expression = get_line_expression(self) %#ok">get_line_expression</a>(self), <span class="string">'tokens'</span>, <span class="string">'once'</span>); <span class="comment">%, 'dotexceptnewline');</span>
0253     <span class="keyword">if</span> (length(tokens) &gt; 1)
0254         second = tokens{2};
0255         com.mathworks.mlservices.MLEditorServices.openDocumentToLine(second{1},str2num(second{2})); <span class="comment">%#ok</span>
0256     <span class="keyword">end</span>;
0257 <span class="keyword">else</span>
0258     com.mathworks.mlservices.MLEditorServices.openDocumentToLine(tokens{1},str2num(tokens{2})); <span class="comment">%#ok</span>
0259     tokens{3} = clock;
0260     set(hObject, <span class="string">'UserData'</span>, tokens);
0261 <span class="keyword">end</span>;</pre></div>
<br><br><address>Generated on Fri 06-Apr-2007 17:48:20 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/">m2html</a></strong> &copy; 2003</address>
</body>
</html>