<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
                "http://www.w3.org/TR/REC-html40/loose.dtd">
<html>
<head>
  <title>Description of printSummary</title>
  <meta name="keywords" content="printSummary">
  <meta name="description" content="PRINTSUMMARY Return the result of several suites as printable string.">
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
  <meta name="generator" content="m2html v1.5 &copy; 2003-2005 Guillaume Flandin">
  <meta name="robots" content="index, follow">
  <link type="text/css" rel="stylesheet" href="../../../m2html.css">
</head>
<body>
<a name="_top"></a>
<div><a href="../../../index.html">Home</a> &gt;  <a href="../../index.html">src</a> &gt; <a href="../index.html">automation</a> &gt; <a href="index.html">private</a> &gt; printSummary.m</div>

<!--<table width="100%"><tr><td align="left"><a href="../../../index.html"><img alt="<" border="0" src="../../../left.png">&nbsp;Master index</a></td>
<td align="right"><a href="index.html">Index for src\automation\private&nbsp;<img alt=">" border="0" src="../../../right.png"></a></td></tr></table>-->

<h1>printSummary
</h1>

<h2><a name="_name"></a>PURPOSE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>PRINTSUMMARY Return the result of several suites as printable string.</strong></div>

<h2><a name="_synopsis"></a>SYNOPSIS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="box"><strong>function report = printSummary(suiteresults, time) </strong></div>

<h2><a name="_description"></a>DESCRIPTION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre class="comment"> PRINTSUMMARY Return the result of several suites as printable string.

 Input argument suiteresults is a cellarray of structures with these fields:
  name           the package name of the test suite
  errors         the number of errors
  failures       the number of failures
  tests          the number of executed tests
  time           the time used for executing the tests
  testcaseList   a list of all testcases with specific information</pre></div>

<!-- crossreference -->
<h2><a name="_cross"></a>CROSS-REFERENCE INFORMATION <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
This function calls:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
This function is called by:
<ul style="list-style-image:url(../../../matlabicon.gif)">
</ul>
<!-- crossreference -->

<h2><a name="_subfunctions"></a>SUBFUNCTIONS <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<ul style="list-style-image:url(../../../matlabicon.gif)">
<li><a href="#_sub1" class="code">function s = test_count_string(num_tests)</a></li></ul>

<h2><a name="_source"></a>SOURCE CODE <a href="#_top"><img alt="^" border="0" src="../../../up.png"></a></h2>
<div class="fragment"><pre>0001 <a name="_sub0" href="#_subfunctions" class="code">function report = printSummary(suiteresults, time)</a>
0002 <span class="comment">% PRINTSUMMARY Return the result of several suites as printable string.</span>
0003 <span class="comment">%</span>
0004 <span class="comment">% Input argument suiteresults is a cellarray of structures with these fields:</span>
0005 <span class="comment">%  name           the package name of the test suite</span>
0006 <span class="comment">%  errors         the number of errors</span>
0007 <span class="comment">%  failures       the number of failures</span>
0008 <span class="comment">%  tests          the number of executed tests</span>
0009 <span class="comment">%  time           the time used for executing the tests</span>
0010 <span class="comment">%  testcaseList   a list of all testcases with specific information</span>
0011 
0012 <span class="comment">%  This Software and all associated files are released unter the</span>
0013 <span class="comment">%  GNU General Public License (GPL), see LICENSE for details.</span>
0014 <span class="comment">%</span>
0015 <span class="comment">%  $Author: hetu $</span>
0016 <span class="comment">%  $Id: printSummary.m 71 2013-12-14 10:39:02Z hetu $</span>
0017 
0018 <span class="comment">% helper function for summing up tests, failures, errors</span>
0019 summarize = @(field) sum(cellfun(@(r) r.(field), suiteresults));
0020 
0021 num_tests = summarize(<span class="string">'tests'</span>);
0022 num_fails = summarize(<span class="string">'failures'</span>);
0023 num_errors = summarize(<span class="string">'errors'</span>);
0024 
0025 separator = sprintf(<span class="string">'----------------------------------------------------------------------\n'</span>);
0026 lastseparator = sprintf(<span class="string">'======================================================================\n'</span>);
0027 
0028 report = separator;
0029 report = [report sprintf(<span class="string">'Executed %s in %.2fs\n'</span>, <a href="#_sub1" class="code" title="subfunction s = test_count_string(num_tests)">test_count_string</a>(num_tests), time)];
0030 report = [report sprintf(<span class="string">'\n'</span>)];
0031 
0032 <span class="comment">% output verdict</span>
0033 <span class="keyword">if</span> num_fails == 0 &amp;&amp; num_errors == 0
0034     report = [report sprintf(<span class="string">'SUCCESS\n'</span>)];
0035 <span class="keyword">end</span>
0036 <span class="keyword">if</span> num_fails &gt; 0
0037     report = [report sprintf(<span class="string">'%s FAILED\n'</span>, <a href="#_sub1" class="code" title="subfunction s = test_count_string(num_tests)">test_count_string</a>(num_fails))];
0038 <span class="keyword">end</span>
0039 <span class="keyword">if</span> num_errors &gt; 0
0040     report = [report sprintf(<span class="string">'%s had ERRORS\n'</span>, <a href="#_sub1" class="code" title="subfunction s = test_count_string(num_tests)">test_count_string</a>(num_errors))];
0041 <span class="keyword">end</span>
0042 
0043 <span class="comment">% close with separator</span>
0044 report = [report lastseparator];
0045 
0046 
0047 <span class="comment">% outputs '1 test' or '3 tests', depending on num_tests</span>
0048 <a name="_sub1" href="#_subfunctions" class="code">function s = test_count_string(num_tests)</a>
0049 
0050     s = sprintf(<span class="string">'%d test'</span>, num_tests);
0051 
0052     <span class="comment">% for many or 0 tests, add plural form</span>
0053     <span class="keyword">if</span> num_tests ~= 1
0054         s = [s <span class="string">'s'</span>];
0055     <span class="keyword">end</span></pre></div>
<hr><address>Generated on Thu 08-Jan-2015 14:45:23 by <strong><a href="http://www.artefact.tk/software/matlab/m2html/" title="Matlab Documentation in HTML">m2html</a></strong> &copy; 2005</address>
</body>
</html>